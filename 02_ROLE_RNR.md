# 02. 역할/업무분장 (Team2 중심)

본 서비스는 매장 내 곳곳에 설치된
태블릿에서 실행되는 웹 기반 AI 상품 위치 안내 서비스이다.

## Team2 책임 범위
1) STT 연동 및 비교
- Whisper large-v3 (batch) vs Google STT (batch, PoC 1차는 음성 파일 기반만 사용)
- API 키/환경변수 세팅, 어댑터 패턴으로 교체 가능하게 구현

2) 품질 게이트(입력 유효성 판정)
- STT 결과가 “검색에 사용할 수 있는지” 판정
- 무음/잡음/무의미/저신뢰 → 1회 재요청 또는 종료 분기

3) 텍스트 정규화(Normalization)
- 필러 제거(음…/어…/그…)
- 공백/중복문자 정리
- 간단한 도메인 치환(예: “물 안 미끄럽게” → “미끄럼방지”)

4) 로깅/측정
- request_id 기준으로 STT 결과/신뢰도/재요청 여부/지연 기록
- 배치 테스트 결과를 CSV로 산출

## 의존/협업 포인트
- Team1(VAD/Frontend): 오디오 파일/스트림 전달 방식 확정 필요
- Team3/4: 출력 텍스트 포맷(필드명) 고정 필요
- Team6(Logger/Integration): 로그 수집 위치/포맷 일치

## Team2 오너로 확정할 것
- STT 모델 선택 기준(정확도/지연/비용)
- 품질게이트 임계값/규칙(재요청 1회 정책 포함)
- 정규화 최소 룰(검색 성능에 영향)

## 서비스 처리 흐름

사용자 음성 입력  
→ STT (음성 → 텍스트 변환)  
→ 질문 허용 정책 판단  
→ NLU / 고정 위치 분기  
→ 검색 및 최종 안내

- STT 이후 단계에서 질문 허용 정책(03_AI_QUERY_POLICY.md)에 따라  
  NLU 진입 여부 및 고정 위치 분기 여부를 판단한다.